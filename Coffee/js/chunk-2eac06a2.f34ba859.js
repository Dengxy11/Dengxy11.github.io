(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eac06a2"],{"0d7a":function(t,e,i){"use strict";var a=i("b2a2"),n=i("8a1c"),s=i("857c"),l=i("2732"),r=i("ef4c"),o=i("38eb"),c=i("d88d"),u=i("59da"),d=i("5139"),g=i("efe2"),f=[].push,h=Math.min,p=4294967295,m=!g((function(){return!RegExp(p,"y")}));a("split",2,(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(l(this)),s=void 0===i?p:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,s);var r,o,c,u=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=new RegExp(t.source,g+"g");while(r=d.call(m,a)){if(o=m.lastIndex,o>h&&(u.push(a.slice(h,r.index)),r.length>1&&r.index<a.length&&f.apply(u,r.slice(1)),c=r[0].length,h=o,u.length>=s))break;m.lastIndex===r.index&&m.lastIndex++}return h===a.length?!c&&m.test("")||u.push(""):u.push(a.slice(h)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=l(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,i):a.call(String(n),e,i)},function(t,n){var l=i(a,t,this,n,a!==e);if(l.done)return l.value;var d=s(t),g=String(this),f=r(d,RegExp),v=d.unicode,k=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),x=new f(m?d:"^(?:"+d.source+")",k),I=void 0===n?p:n>>>0;if(0===I)return[];if(0===g.length)return null===u(x,g)?[g]:[];var b=0,y=0,C=[];while(y<g.length){x.lastIndex=m?y:0;var _,S=u(x,m?g:g.slice(y));if(null===S||(_=h(c(x.lastIndex+(m?0:y)),g.length))===b)y=o(g,y,v);else{if(C.push(g.slice(b,y)),C.length===I)return C;for(var w=1;w<=S.length-1;w++)if(C.push(S[w]),C.length===I)return C;y=b=_}}return C.push(g.slice(b)),C}]}),!m)},2086:function(t,e,i){},3837:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my"},[i("div",{staticClass:"my-box img-tm",style:{backgroundImage:"url("+t.userInfo.userBg+")"}},[i("div",{staticClass:"change-bg clearfix"},[t.isLogin?i("div",{staticClass:"fr cbg"},[i("div",[t._v("更换背景")]),i("van-uploader",{staticClass:"upload-box",attrs:{"max-size":t.maxSize,"after-read":t.uploadFile}})],1):t._e()]),i("div",{staticClass:"user-info"},[t.isLogin?i("div",[i("div",{staticClass:"clearfix"},[i("div",{staticClass:"my-img fl"},[i("img",{staticClass:"auto-img",attrs:{src:t.userInfo.userImg,alt:""}})]),i("div",{staticClass:"nickname fl"},[t._v(t._s(t.userInfo.nickName))])]),i("div",{staticClass:"text"},[t._v("简介："+t._s(""==t.userInfo.desc?"这小可爱什么都没留下！":t.userInfo.desc))])]):i("div",{staticClass:"login-text",on:{click:function(e){return t.goPage("Login")}}},[t._v("登录")])])]),i("div",[i("van-cell-group",{staticClass:"my-border"},t._l(t.litsData,(function(e,a){return i("van-cell",{key:a,attrs:{title:e.title,icon:e.icon,"is-link":""},on:{click:function(i){return t.goPage(e.routeName)}}})})),1)],1)])},n=[],s=(i("e35a"),i("5e9f"),i("0d7a"),i("2086"),{data:function(){return{maxSize:1048576,litsData:[{title:"账号管理",routeName:"Account",icon:"smile"},{title:"地址管理",routeName:"MyAddress",icon:"map-marked"},{title:"我的收藏",routeName:"Like",icon:"like"},{title:"安全中心",routeName:"Secure",icon:"phone"}],userInfo:{},isLogin:!1}},created:function(){this.getUserInfo(),localStorage.getItem("__Tk")&&(this.isLogin=!0)},methods:{goPage:function(t){"Login"===t||this.isLogin?this.$router.push({name:t}):this.$toast("请先登录")},getUserInfo:function(){var t=this,e=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findMy",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),"A001"==e.data.code&&(t.userInfo=e.data.result[0])})).catch((function(e){t.$toast.clear()}))},uploadFile:function(t){var e=this,i=t.content.replace(/^data:image\/[A-Za-z]+;base64,/,""),a=t.file.type.split("/")[1],n=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/updateUserBg",data:{appkey:this.appkey,tokenString:n,imgType:a,serverBase64Img:i}}).then((function(t){e.$toast.clear(),"I001"==t.data.code?e.userInfo.userBg=t.data.userBg:e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear()}))}}}),l=s,r=i("9ca4"),o=Object(r["a"])(l,a,n,!1,null,null,null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2eac06a2.f34ba859.js.map