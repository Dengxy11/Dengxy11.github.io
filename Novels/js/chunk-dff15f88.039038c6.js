(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dff15f88"],{"0c1f":function(t,i,e){},"159b":function(t,i,e){var a=e("da84"),n=e("fdbc"),s=e("17c2"),r=e("9112");for(var c in n){var o=a[c],l=o&&o.prototype;if(l&&l.forEach!==s)try{r(l,"forEach",s)}catch(u){l.forEach=s}}},"17c2":function(t,i,e){"use strict";var a=e("b727").forEach,n=e("a640"),s=e("ae40"),r=n("forEach"),c=s("forEach");t.exports=r&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,i,e){"use strict";var a=e("23e7"),n=e("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},4320:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ranking"},[e("van-nav-bar",{staticClass:"van-head",attrs:{title:"排行榜","left-arrow":""},on:{"click-left":function(i){return t.back()}}}),e("div",{staticClass:"ranking-item"},[e("div",{staticClass:"heading"},[e("van-tabs",{attrs:{color:"#b83320","title-inactive-color":"#8a8a8f","title-active-color":"#b83320"},on:{click:t.topType},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.TypeData,(function(i,a){return e("van-tab",{key:a,attrs:{title:i.title}},[e("div",{staticClass:"clearfix ranking-box"},[e("div",{staticClass:"subheading fl"},[e("div",{staticClass:"subheading-y"},t._l(t.listTypeData[i.type],(function(i,a){return e("div",{key:a,staticClass:"subheading-title",class:{active:a==t.currentIndex?"active":""},on:{click:function(e){return t.leftType(i,a)}}},[e("div",{staticClass:"subheading-bb"},[t._v(t._s(i.shortTitle))])])})),0)]),e("div",{staticClass:"fr ranking-list"},[e("div",{staticClass:"ranking-list-y"},t._l(t.booksData,(function(i,a){return e("div",{key:a,staticClass:"clearfix",on:{click:function(e){return t.getBookDetial(i._id)}}},[e("div",{staticClass:"fl ranking-list-img"},[e("img",{staticClass:"auto-img",attrs:{src:i.cover,alt:""}})]),e("div",{staticClass:"fr ranking-list-box"},[e("div",{staticClass:"ranking-list-title"},[t._v(t._s(i.title))]),e("div",{staticClass:"ranking-list-content"},[t._v(t._s(i.shortIntro))]),e("div",{staticClass:"clearfix ranking-label"},[e("div",{staticClass:"fl ranking-author"},[t._v(t._s(i.author))]),e("div",{staticClass:"fr ranking-type"},[t._v(t._s(i.majorCate))])])])])})),0)])])])})),1)],1)])],1)},n=[],s=(e("4160"),e("fb6a"),e("159b"),e("0c1f"),{data:function(){return{TypeData:[{title:"男频",type:"male",isActive:!0},{title:"女频",type:"female",isActive:!1},{title:"出版",type:"epub",isActive:!1}],listTypeData:{},topIndex:0,leftIndex:0,booksData:[],active:0,currentIndex:0,rankId:"",booksId:""}},created:function(){this.getBookList()},methods:{back:function(){this.$router.go(-1)},toggleTabBar:function(t){this.$router.push(t)},getBookList:function(){var t=this;this.axios({method:"GET",url:"http://novel.kele8.cn/rank-category"}).then((function(i){if(t.$toast.clear(),i.data){t.listTypeData=i.data;var e=t.TypeData[t.topIndex].type;t.rankId=t.listTypeData[e][t.leftIndex]._id,t.axios({methods:"GET",url:"http://novel.kele8.cn/rank/"+t.rankId}).then((function(i){200==i.status&&(t.booksData=i.data.ranking.books),t.booksData.forEach((function(t){t.cover=unescape(t.cover).slice(7)}))})).catch((function(t){}))}})).catch((function(i){t.$toast.clear()}))},topType:function(t){this.topIndex=t,this.leftIndex=0,this.currentIndex=0,this.getBookList()},leftType:function(t,i){this.leftIndex=i,this.currentIndex=i,this.getBookList()},getBookDetial:function(t){this.$router.push({name:"Detail",query:{id:t}})}}}),r=s,c=e("2877"),o=Object(c["a"])(r,a,n,!1,null,null,null);i["default"]=o.exports},"65f0":function(t,i,e){var a=e("861d"),n=e("e8b5"),s=e("b622"),r=s("species");t.exports=function(t,i){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)?a(e)&&(e=e[r],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===i?0:i)}},b727:function(t,i,e){var a=e("0366"),n=e("44ad"),s=e("7b0b"),r=e("50c4"),c=e("65f0"),o=[].push,l=function(t){var i=1==t,e=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(v,h,p,k){for(var b,g,y=s(v),L=n(y),C=a(h,p,3),T=r(L.length),x=0,m=k||c,S=i?m(v,T):e?m(v,0):void 0;T>x;x++)if((d||x in L)&&(b=L[x],g=C(b,x,y),t))if(i)S[x]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:o.call(S,b)}else if(u)return!1;return f?-1:l||u?u:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},fdbc:function(t,i){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-dff15f88.039038c6.js.map